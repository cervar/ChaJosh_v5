{"remainingRequest":"C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\src\\views\\Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\src\\views\\Form.vue","mtime":1661169338495},{"path":"C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661165481323},{"path":"C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\node_modules\\babel-loader\\lib\\index.js","mtime":1661165482909},{"path":"C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661165481323},{"path":"C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\node_modules\\vue-loader\\lib\\index.js","mtime":1661165484262}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFRvYXN0TWl4aW4gZnJvbSAiQC9taXhpbnMvdG9hc3RNaXhpbi5qcyI7CmltcG9ydCB7IHJlcXVpcmVkLCBtaW5MZW5ndGggfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwppbXBvcnQgVGFza3NNb2RlbCBmcm9tICJAL21vZGVscy9UYXNrc01vZGVsIjsKaW1wb3J0IFN0YXR1cyBmcm9tICJAL3ZhbHVlT2JqZWN0cy9zdGF0dXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZvcm0iLAogIG1peGluczogW1RvYXN0TWl4aW5dLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIHN1YmplY3Q6ICIiLAogICAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgICBzdGF0dXM6IFN0YXR1cy5PUEVOLAogICAgICAgIGRhdGVPdmVyZHVlOiAiIiwKICAgICAgICB1c2VySWQ6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImF1dGhVc2VyIikpLmlkCiAgICAgIH0sCiAgICAgIG1ldGhvZFNhdmU6ICJuZXciLAogICAgICBvcHRpb25zU3RhdHVzOiBbewogICAgICAgIHZhbHVlOiBTdGF0dXMuT1BFTiwKICAgICAgICB0ZXh0OiAiVSByYWR1IgogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IFN0YXR1cy5GSU5JU0hFRCwKICAgICAgICB0ZXh0OiAiWmF2csWhZW4iCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogU3RhdHVzLkFSQ0hJVkVELAogICAgICAgIHRleHQ6ICJBcmhpdmlyYW4iCiAgICAgIH1dCiAgICB9OwogIH0sCgogIHZhbGlkYXRpb25zOiB7CiAgICBmb3JtOiB7CiAgICAgIHN1YmplY3Q6IHsKICAgICAgICByZXF1aXJlZCwKICAgICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCgzKQogICAgICB9CiAgICB9CiAgfSwKCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMudGFza0lkKSB7CiAgICAgIHRoaXMubWV0aG9kU2F2ZSA9ICJ1cGRhdGUiOwogICAgICB0aGlzLmZvcm0gPSBhd2FpdCBUYXNrc01vZGVsLmZpbmQodGhpcy4kcm91dGUucGFyYW1zLnRhc2tJZCk7CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgc2F2ZVRhc2soKSB7CiAgICAgIHRoaXMuJHYuJHRvdWNoKCk7CiAgICAgIGlmICh0aGlzLiR2LiRlcnJvcikgcmV0dXJuOwoKICAgICAgaWYgKHRoaXMubWV0aG9kU2F2ZSA9PT0gInVwZGF0ZSIpIHsKICAgICAgICB0aGlzLmZvcm0uc2F2ZSgpOwogICAgICAgIHRoaXMuc2hvd1RvYXN0KCJ1c3BqZcWhbm8iLCAiWmFkYXRhayBqZSB1c3BqZcWhbm8gYcW+dXJpcmFuIik7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogImxpc3QiCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCB0YXNrID0gbmV3IFRhc2tzTW9kZWwodGhpcy5mb3JtKTsKICAgICAgdGFzay5zYXZlKCk7CiAgICAgIHRoaXMuc2hvd1RvYXN0KCJ1c3BqZcWhbm8iLCAiWmFkYXRhayBqZSB1c3BqZcWhbm8ga3JlaXJhbiIpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImxpc3QiCiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRUb2RheSgpIHsKICAgICAgcmV0dXJuIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgiVCIpWzBdOwogICAgfQoKICB9LAogIGNvbXB1dGVkOiB7CiAgICBnZXRWYWxpZGF0aW9uKCkgewogICAgICBpZiAodGhpcy4kdi5mb3JtLnN1YmplY3QuJGRpcnR5ID09PSBmYWxzZSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gIXRoaXMuJHYuZm9ybS5zdWJqZWN0LiRlcnJvcjsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AAwDA;AACA;AACA;AACA;AAEA;EACAA,YADA;EAGAC,oBAHA;;EAKAC;IACA;MACAC;QACAC,WADA;QAEAC,eAFA;QAGAC,mBAHA;QAIAC,eAJA;QAKAC;MALA,CADA;MAQAC,iBARA;MASAC,gBACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA;IATA;EAeA,CArBA;;EAuBAC;IACAV;MACAC;QACAU,QADA;QAEAC;MAFA;IADA;EADA,CAvBA;;EAgCA;IACA;MACA;MACA;IACA;EACA,CArCA;;EAuCAC;IACAC;MACA;MACA;;MAEA;QACA;QAEA;QACA;UAAAjB;QAAA;QACA;MACA;;MAEA;MACAkB;MAEA;MACA;QAAAlB;MAAA;IACA,CAlBA;;IAoBAmB;MACA;IACA;;EAtBA,CAvCA;EAgEAC;IACAC;MACA;QACA;MACA;;MAEA;IACA;;EAPA;AAhEA","names":["name","mixins","data","form","subject","description","status","dateOverdue","userId","methodSave","optionsStatus","value","text","validations","required","minLength","methods","saveTask","task","getToday","computed","getValidation"],"sourceRoot":"src/views","sources":["Form.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-2\">\n    <b-form>\n      <b-form-group label=\"obaveza\" label-for=\"subject\">\n        <b-form-input\n          id=\"subject\"\n          v-model.trim=\"$v.form.subject.$model\"\n          type=\"text\"\n          placeholder=\"Upišite zadatak\"\n          required\n          autocomplete=\"off\"\n          :state=\"getValidation\"\n          aria-describedby=\"subject-feedback\"\n        ></b-form-input>\n\n        <b-form-invalid-feedback id=\"subject-feedback\"\n          >Obavezan unos</b-form-invalid-feedback\n        >\n      </b-form-group>\n\n      <b-form-group label=\"opis\" label-for=\"description\">\n        <b-form-textarea\n          id=\"description\"\n          v-model=\"form.description\"\n          type=\"text\"\n          placeholder=\"detalji o obavezi\"\n          required\n          autocomplete=\"off\"\n        ></b-form-textarea>\n      </b-form-group>\n\n      <b-form-group label=\"Status\" label-for=\"status\">\n        <b-form-select\n          id=\"status\"\n          v-model=\"form.status\"\n          :options=\"optionsStatus\"\n        ></b-form-select>\n      </b-form-group>\n\n      <b-form-group label=\"rok za izvršenje\" label-for=\"dateOverdue\">\n        <b-form-datepicker\n          id=\"dateOverdue\"\n          v-model=\"form.dateOverdue\"\n          label-no-date-selected=\"Odaberi datum\"\n          :min=\"getToday()\"\n        ></b-form-datepicker>\n      </b-form-group>\n\n      <b-button type=\"submit\" variant=\"outline-primary\" @click=\"saveTask\">\n        <i class=\"fas fa-save\"></i> spremi\n      </b-button>\n    </b-form>\n  </div>\n</template>\n\n<script>\nimport ToastMixin from \"@/mixins/toastMixin.js\";\nimport { required, minLength } from \"vuelidate/lib/validators\";\nimport TasksModel from \"@/models/TasksModel\";\nimport Status from \"@/valueObjects/status\";\n\nexport default {\n  name: \"Form\",\n\n  mixins: [ToastMixin],\n\n  data() {\n    return {\n      form: {\n        subject: \"\",\n        description: \"\",\n        status: Status.OPEN,\n        dateOverdue: \"\",\n        userId: JSON.parse(localStorage.getItem(\"authUser\")).id,\n      },\n      methodSave: \"new\",\n      optionsStatus: [\n        { value: Status.OPEN, text: \"U radu\" },\n        { value: Status.FINISHED, text: \"Završen\" },\n        { value: Status.ARCHIVED, text: \"Arhiviran\" },\n      ],\n    };\n  },\n\n  validations: {\n    form: {\n      subject: {\n        required,\n        minLength: minLength(3),\n      },\n    },\n  },\n\n  async created() {\n    if (this.$route.params.taskId) {\n      this.methodSave = \"update\";\n      this.form = await TasksModel.find(this.$route.params.taskId);\n    }\n  },\n\n  methods: {\n    saveTask() {\n      this.$v.$touch();\n      if (this.$v.$error) return;\n\n      if (this.methodSave === \"update\") {\n        this.form.save();\n\n        this.showToast(\"uspješno\", \"Zadatak je uspješno ažuriran\");\n        this.$router.push({ name: \"list\" });\n        return;\n      }\n\n      const task = new TasksModel(this.form);\n      task.save();\n\n      this.showToast(\"uspješno\", \"Zadatak je uspješno kreiran\");\n      this.$router.push({ name: \"list\" });\n    },\n\n    getToday() {\n      return new Date().toISOString().split(\"T\")[0];\n    },\n  },\n\n  computed: {\n    getValidation() {\n      if (this.$v.form.subject.$dirty === false) {\n        return null;\n      }\n\n      return !this.$v.form.subject.$error;\n    },\n  },\n};\n</script>\n"]}]}