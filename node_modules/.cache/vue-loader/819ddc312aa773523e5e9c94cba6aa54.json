{"remainingRequest":"C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\src\\views\\Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\src\\views\\Form.vue","mtime":1661169338495},{"path":"C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661165481323},{"path":"C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\node_modules\\babel-loader\\lib\\index.js","mtime":1661165482909},{"path":"C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661165481323},{"path":"C:\\Users\\Dino\\Desktop\\todolist-vuejs-9\\node_modules\\vue-loader\\lib\\index.js","mtime":1661165484262}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBUb2FzdE1peGluIGZyb20gIkAvbWl4aW5zL3RvYXN0TWl4aW4uanMiOwppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RoIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKaW1wb3J0IFRhc2tzTW9kZWwgZnJvbSAiQC9tb2RlbHMvVGFza3NNb2RlbCI7CmltcG9ydCBTdGF0dXMgZnJvbSAiQC92YWx1ZU9iamVjdHMvc3RhdHVzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRm9ybSIsCgogIG1peGluczogW1RvYXN0TWl4aW5dLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIHN1YmplY3Q6ICIiLAogICAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgICBzdGF0dXM6IFN0YXR1cy5PUEVOLAogICAgICAgIGRhdGVPdmVyZHVlOiAiIiwKICAgICAgICB1c2VySWQ6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImF1dGhVc2VyIikpLmlkLAogICAgICB9LAogICAgICBtZXRob2RTYXZlOiAibmV3IiwKICAgICAgb3B0aW9uc1N0YXR1czogWwogICAgICAgIHsgdmFsdWU6IFN0YXR1cy5PUEVOLCB0ZXh0OiAiVSByYWR1IiB9LAogICAgICAgIHsgdmFsdWU6IFN0YXR1cy5GSU5JU0hFRCwgdGV4dDogIlphdnLFoWVuIiB9LAogICAgICAgIHsgdmFsdWU6IFN0YXR1cy5BUkNISVZFRCwgdGV4dDogIkFyaGl2aXJhbiIgfSwKICAgICAgXSwKICAgIH07CiAgfSwKCiAgdmFsaWRhdGlvbnM6IHsKICAgIGZvcm06IHsKICAgICAgc3ViamVjdDogewogICAgICAgIHJlcXVpcmVkLAogICAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDMpLAogICAgICB9LAogICAgfSwKICB9LAoKICBhc3luYyBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy50YXNrSWQpIHsKICAgICAgdGhpcy5tZXRob2RTYXZlID0gInVwZGF0ZSI7CiAgICAgIHRoaXMuZm9ybSA9IGF3YWl0IFRhc2tzTW9kZWwuZmluZCh0aGlzLiRyb3V0ZS5wYXJhbXMudGFza0lkKTsKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBzYXZlVGFzaygpIHsKICAgICAgdGhpcy4kdi4kdG91Y2goKTsKICAgICAgaWYgKHRoaXMuJHYuJGVycm9yKSByZXR1cm47CgogICAgICBpZiAodGhpcy5tZXRob2RTYXZlID09PSAidXBkYXRlIikgewogICAgICAgIHRoaXMuZm9ybS5zYXZlKCk7CgogICAgICAgIHRoaXMuc2hvd1RvYXN0KCJ1c3BqZcWhbm8iLCAiWmFkYXRhayBqZSB1c3BqZcWhbm8gYcW+dXJpcmFuIik7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAibGlzdCIgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCB0YXNrID0gbmV3IFRhc2tzTW9kZWwodGhpcy5mb3JtKTsKICAgICAgdGFzay5zYXZlKCk7CgogICAgICB0aGlzLnNob3dUb2FzdCgidXNwamXFoW5vIiwgIlphZGF0YWsgamUgdXNwamXFoW5vIGtyZWlyYW4iKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAibGlzdCIgfSk7CiAgICB9LAoKICAgIGdldFRvZGF5KCkgewogICAgICByZXR1cm4gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCJUIilbMF07CiAgICB9LAogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBnZXRWYWxpZGF0aW9uKCkgewogICAgICBpZiAodGhpcy4kdi5mb3JtLnN1YmplY3QuJGRpcnR5ID09PSBmYWxzZSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gIXRoaXMuJHYuZm9ybS5zdWJqZWN0LiRlcnJvcjsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Form.vue"],"names":[],"mappings":";AAwDA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Form.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container mt-2\">\n    <b-form>\n      <b-form-group label=\"obaveza\" label-for=\"subject\">\n        <b-form-input\n          id=\"subject\"\n          v-model.trim=\"$v.form.subject.$model\"\n          type=\"text\"\n          placeholder=\"Upišite zadatak\"\n          required\n          autocomplete=\"off\"\n          :state=\"getValidation\"\n          aria-describedby=\"subject-feedback\"\n        ></b-form-input>\n\n        <b-form-invalid-feedback id=\"subject-feedback\"\n          >Obavezan unos</b-form-invalid-feedback\n        >\n      </b-form-group>\n\n      <b-form-group label=\"opis\" label-for=\"description\">\n        <b-form-textarea\n          id=\"description\"\n          v-model=\"form.description\"\n          type=\"text\"\n          placeholder=\"detalji o obavezi\"\n          required\n          autocomplete=\"off\"\n        ></b-form-textarea>\n      </b-form-group>\n\n      <b-form-group label=\"Status\" label-for=\"status\">\n        <b-form-select\n          id=\"status\"\n          v-model=\"form.status\"\n          :options=\"optionsStatus\"\n        ></b-form-select>\n      </b-form-group>\n\n      <b-form-group label=\"rok za izvršenje\" label-for=\"dateOverdue\">\n        <b-form-datepicker\n          id=\"dateOverdue\"\n          v-model=\"form.dateOverdue\"\n          label-no-date-selected=\"Odaberi datum\"\n          :min=\"getToday()\"\n        ></b-form-datepicker>\n      </b-form-group>\n\n      <b-button type=\"submit\" variant=\"outline-primary\" @click=\"saveTask\">\n        <i class=\"fas fa-save\"></i> spremi\n      </b-button>\n    </b-form>\n  </div>\n</template>\n\n<script>\nimport ToastMixin from \"@/mixins/toastMixin.js\";\nimport { required, minLength } from \"vuelidate/lib/validators\";\nimport TasksModel from \"@/models/TasksModel\";\nimport Status from \"@/valueObjects/status\";\n\nexport default {\n  name: \"Form\",\n\n  mixins: [ToastMixin],\n\n  data() {\n    return {\n      form: {\n        subject: \"\",\n        description: \"\",\n        status: Status.OPEN,\n        dateOverdue: \"\",\n        userId: JSON.parse(localStorage.getItem(\"authUser\")).id,\n      },\n      methodSave: \"new\",\n      optionsStatus: [\n        { value: Status.OPEN, text: \"U radu\" },\n        { value: Status.FINISHED, text: \"Završen\" },\n        { value: Status.ARCHIVED, text: \"Arhiviran\" },\n      ],\n    };\n  },\n\n  validations: {\n    form: {\n      subject: {\n        required,\n        minLength: minLength(3),\n      },\n    },\n  },\n\n  async created() {\n    if (this.$route.params.taskId) {\n      this.methodSave = \"update\";\n      this.form = await TasksModel.find(this.$route.params.taskId);\n    }\n  },\n\n  methods: {\n    saveTask() {\n      this.$v.$touch();\n      if (this.$v.$error) return;\n\n      if (this.methodSave === \"update\") {\n        this.form.save();\n\n        this.showToast(\"uspješno\", \"Zadatak je uspješno ažuriran\");\n        this.$router.push({ name: \"list\" });\n        return;\n      }\n\n      const task = new TasksModel(this.form);\n      task.save();\n\n      this.showToast(\"uspješno\", \"Zadatak je uspješno kreiran\");\n      this.$router.push({ name: \"list\" });\n    },\n\n    getToday() {\n      return new Date().toISOString().split(\"T\")[0];\n    },\n  },\n\n  computed: {\n    getValidation() {\n      if (this.$v.form.subject.$dirty === false) {\n        return null;\n      }\n\n      return !this.$v.form.subject.$error;\n    },\n  },\n};\n</script>\n"]}]}